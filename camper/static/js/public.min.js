(function(){$.fn.gallery=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;return null==a&&(a={}),b=null,c=null,e=null,d=null,t={x:0},m={x:0},g=-1,p=700,n=120,o=0,z=[],A=5,v=100,u=700,f=1.25,r=0,l=!1,s={x:0},k={x:0},C=0,j=10,h=[],i=10,w=null,q=function(){return b=$(this),c=b.find(".gallery"),e=b.find(".gallery-pictures"),d=b.find(".gallery-picture"),o=p+n,e.css({webkitFilter:"url('#blur')",filter:"url('#blur')"}),d.each(function(a){var c;return c=$(this),c.click(function(){if(Math.abs(C)<j)return y(a)}),b.find(".gallery-pagination-dot").eq(a).click(function(){return y(a)})}),c.mousedown(function(a){return a.preventDefault(),l=!0,k.x=a.pageX,s.x=k.x,C=0,h=[],B(),E()}),$(document).mousemove(function(a){if(l)return k.x=a.pageX}),$(document).mouseup(function(a){var b,c,e,f,g,i,k;if(l){for(l=!1,c=0,i=0,k=h.length;i<k;i++)e=h[i],c+=e;if(c/=h.length,g=m.x+20*c,g=Math.round(g/o)*o,f=-g/o,b=0,f<0?(b=f,f=0):f>=d.length&&(b=f-(d.length-1),f=d.length-1),0!==b&&(g=-f*o),w=TweenMax.to(m,1-Math.abs(b)/20,{x:g,ease:Quint.easeOut,onUpdate:D,onComplete:D}),Math.abs(C)>=j)return a.preventDefault(),a.stopPropagation()}}),y(0,!1)},x=function(a){return a<v&&(a=0),a>u&&(a=u),a!==r&&$("#blur").get(0).firstElementChild.setAttribute("stdDeviation",a+",0"),r=a},y=function(a,b){return"undefined"==typeof b&&(b=!0),B(),TweenMax.to(m,null!=b?b:{.8:0},{x:-a*o,ease:Quint.easeOut,onUpdate:D,onComplete:D})},D=function(){var a,c,d;if(TweenMax.set(e,{x:m.x+(b.width()-p)/2,force3D:!0,lazy:!0}),c=t.x-m.x,a=Math.abs(Math.round(c*f)),x(a),t.x=m.x,d=Math.round(-m.x/o),d!==g)return g=d,b.find(".gallery-pagination-dot-selected").removeClass("gallery-pagination-dot-selected"),b.find(".gallery-pagination-dot").eq(g).addClass("gallery-pagination-dot-selected")},E=function(){var a;if(l){for(D(),a=k.x-s.x,s.x=k.x,C+=a,h.push(a);h.length>i;)h.splice(0,1);return m.x+=a,requestAnimationFrame(E)}},B=function(){if(null!==w)return w.kill(),w=null,D()},$(this).each(q),this},$(function(){var a,b,c,d;return $(".gallerycontainer").gallery(),$(".upload-widget").uploader(),$("[data-toggle=confirmation]").confirmation({popout:!0}),$('[data-toggle="editfield"]').click(function(){var a,b;return $(this).hide(),b=$(this).closest(".editfield"),a=$(b).find(".edit").show()}),$('[data-close="editfield"]').on("click",function(){var a,b;return $(this).closest(".edit").hide(),b=$(this).closest(".editfield"),a=$(b).find(".value").show(),!1}),$("form.edit").on("submit",function(){var a,b;return $(this).closest(".edit").hide(),b=$(this).closest(".editfield"),a=$(b).find(".value").show(),alert("Gespeichert"),!1}),$(".asset-delete").click(function(){var a,b,c;if(a=$(this).data("confirm"),c=$(this).data("url"),b=$(this).data("idx"),confirm(a))return $.ajax({url:c,type:"POST",data:{method:"delete",idx:b},success:function(){return window.location.reload()}})}),$("#blog-add-button").click(function(){return $("#blog-add-button-container").slideUp(),$("#blog-add-form").slideDown()}),$("#blog-add-cancel-button").click(function(){return $("#blog-add-form")[0].reset(),$("#blog-add-button-container").slideDown(),$("#blog-add-form").slideUp(),!1}),$(".blog-delete-button").click(function(){var a,b,c;return b=$(this).data("msg"),a=$(this).data("idx"),c=$("#blog-add-form").attr("action"),confirm(b)&&$.ajax({url:c,type:"POST",data:{method:"delete",idx:a},success:function(){return window.location.reload()}}),!1}),$("a.form-submit").click(function(){var a,b;return a=$(this).attr("href"),b=$(this).closest("form"),b.attr("action",a),console.log(b.attr("method")),b.submit(),!1}),$("#select-event").change(function(){return window.location=$("#select-event option:selected").attr("value")}),d=null,c=null,$(".open-location-modal").click(function(a){var b,e,f,g;return a.preventDefault(),g=$(this).data("title"),$("#location-title").text(g),b=$(this).data("accesstoken"),L.mapbox.accessToken=b,d||(d=L.mapbox.map("location-map","mapbox.streets")),e=$(this).data("lat"),f=$(this).data("lng"),d.setView([e,f],14),c&&d.removeLayer(c),c=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[f,e]},properties:{title:g,description:"","marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(d),$("#location-modal").modal("show")}),$("#location-modal").on("shown.bs.modal",function(){return d.invalidateSize()}),b=null,a=null,$(".event-location-map").each(function(d,e){var f,g,h,i,j;return h=$(this).data("lat"),i=$(this).data("lng"),j=$(this).data("title"),g=$(this).data("description"),f=$(this).data("accesstoken"),L.mapbox.accessToken=f,b||(b=L.mapbox.map("event-location-map","mapbox.streets")),b.setView([h,i],14),a&&b.removeLayer(c),c=L.mapbox.featureLayer({type:"Feature",geometry:{type:"Point",coordinates:[i,h]},properties:{title:j,description:g,"marker-symbol":"star","marker-size":"medium","marker-color":"#f44"}}).addTo(b),b.invalidateSize()}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(a){if("location-button"===a.target.id&&b)return b.invalidateSize()}),$(".share-on-facebook").click(function(a){var b,c;return a.preventDefault(),c=encodeURIComponent($(this).data("url")),b=window.open("//www.facebook.com/sharer.php?u="+c,"popupwindow","scrollbars=yes,width=800,height=400"),b.focus(),!1}),$(".share-on-googleplus").click(function(a){var b,c;return a.preventDefault(),c=encodeURIComponent($(this).data("url")),b=window.open("//plus.google.com/share?url="+c,"popupwindow","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),b.focus(),!1})}),function(){var a,b,c,d,f,g,h,i,j,k,l;if(!window.__twitterIntentHandler){for(c=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,l="scrollbars=yes,resizable=yes,toolbar=no,location=yes",i=550,b=420,j=screen.height,k=screen.width,a=function(a){var b;return a=a||window.event,b=a.target||a.srcElement};g&&"a"!==g.nodeName.toLowerCase();)g=g.parentNode;return g&&"a"===g.nodeName.toLowerCase()&&g.href&&(f=g.href.match(c),f&&(d=Math.round(k/2-i/2),h=0,j>b&&(h=Math.round(j/2-b/2)),window.open(g.href,"intent",l+",width="+i+",height="+b+",left="+d+",top="+h),e.returnValue=!1,e.preventDefault&&e.preventDefault())),document.addEventListener?document.addEventListener("click",a,!1):document.attachEvent&&document.attachEvent("onclick",a),window.__twitterIntentHandler=!0}}()}).call(this),function(){$.fn.datafields=function(a){var b,c,d,e,f;return null==a&&(a={}),b=$(this),d=function(){return $(b).submit(function(){var a;return a=e(),console.log($(b).data("update_idx")),$(b).data("update_idx")>-1?$("table#participant_datafields tbody tr").eq($(b).data("update_idx")).replaceWith(a):$("table#participant_datafields").append(a),$("#datafield-modal").modal("hide"),!1}),$(".remove-datafield").live("click",function(a){return $(this).parents("tr").remove(),$("input#pdatafields").val(f())}),$(".edit-datafield").live("click",function(a){var b;return b=$(this).parents("tr"),$("#datafield-form").data("update_idx",$("table#participant_datafields tbody tr").index(b)),$("#datafield-form").find("input#name").val($(b).data("name")),$("#datafield-form").find("input#title").val($(b).data("title")),$("#datafield-form").find("textarea#description").val($(b).data("description")),$("#datafield-form").find("select#fieldtype").val($(b).data("fieldtype")),$(b).data("required")===!0&&$("#datafield-form").find("input#required").attr("checked",!0),$("#datafield-modal").modal("show")}),$("#datafield-modal").on("hidden",function(){return c(),$("input#pdatafields").val(f())}),$("input#pdatafields").val(f())},f=function(){var a;return a=[],$("table#participant_datafields tbody tr").each(function(){return a.push({name:$(this).data("name"),title:$(this).data("title"),description:$(this).data("description"),fieldtype:$(this).data("fieldtype"),required:$(this).data("required")})}),JSON.stringify(a)},c=function(){return $(b).data("update_idx",-1),$(b).find("input#name").val(""),$(b).find("input#title").val(""),$(b).find("textarea#description").val(""),$(b).find("select#fieldtype").find(":selected").removeAttr("selected"),$(b).find("input#required").attr("checked",!1)},e=function(){var a,b,c,d,e,f,g;return c=$("#datafield-form"),d=$(c).find("input#name").val(),g=$(c).find("input#title").val(),a=$(c).find("textarea#description").val(),b=$(c).find("select#fieldtype").find(":selected"),f=$(c).find("input#required").attr("checked"),e=$("<tr></tr>").attr("data-name",d).attr("data-title",g).attr("data-description",a).attr("data-fieldtype",b.val()).attr("data-required","checked"===f),$("<td></td>").text(d).appendTo(e),$("<td></td>").text(g).appendTo(e),$("<td></td>").text(a).appendTo(e),$("<td></td>").text(b.text()).appendTo(e),"checked"===f?$("<td></td>").html('<i class="icon-ok">').appendTo(e):$("<td></td>").appendTo(e),$('<td><button class="btn btn-mini btn-info edit-datafield" type="button"><i class="icon-white icon-pencil"></button></td><td><button class="btn btn-mini btn-danger remove-datafield" type="button"><i class="icon-white icon-trash"></button></td>').appendTo(e),e},$(this).each(d),this},$(document).ready(function(){return $("#datafield-form").datafields()})}.call(this),function(){$.fn.eventlist=function(a,b){var c,d,e,f,g;return e=null,d=null,g=function(a){var b;return b=$("#e-"+a.eid),b.find(".plabel").hide(),b.find(".dlabel").hide().css("font-weight","normal").find("i").remove(),b.find("button").hide(),a.participant||a.waitinglist||a.maybe?(b.find(".dropdown-toggle").removeClass("btn-info").removeClass("btn-success").removeClass("btn-warning"),a.participant?(b.find(".label-going").show(),b.find(".infolabel.plabel-going").show(),b.find(".infolabel.plabel-notgoing").hide(),b.find(".dlabel.maybe").show(),b.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled"),b.find(".dropdown-toggle").addClass("btn-success")):a.waitinglist?(b.find(".label-waitinglist").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show(),b.find(".dlabel.maybe").show(),b.find(".dropdown-toggle").addClass("btn-warning"),b.find(".dlabel.going").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")):a.maybe&&(b.find(".label-maybe").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show(),b.find(".dlabel.going").show(),b.find(".dropdown-toggle").addClass("btn-info"),b.find(".dlabel.maybe").show().css("font-weight","bold").prepend('<i class="fa fa-check"></i> ').parent().addClass("disabled")),b.find(".pselect").css("display","inline-block"),b.find(".dropdown-toggle").show()):(a.full?b.find(".btn-joinwl").show():b.find(".btn-join").show(),b.find(".btn-maybe").show(),b.find(".infolabel.plabel-going").hide(),b.find(".infolabel.plabel-notgoing").show()),b.find(".filled").text(a.filled),b.find(".size").text(a.size),b=$("#ne-"+a.eid),b.find(".plabel").hide(),a.participant?b.find(".plabel-going").show():a.maybe?b.find(".plabel-maybe").show():a.waitinglist?b.find(".plabel-waiting").show():b.find(".plabel-not").show()},f=function(){return e=$(this).data("url"),$.ajax({url:e,type:"GET",success:function(a){var b,c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],e.push(g(b));return e}}),$(this).find(".actions > button").click(function(){return c(this)}),$(this).find(".dropdown-menu a").click(function(){return c(this)})},c=function(a){var b,c;return b=$(a).closest(".event").data("id"),c=$(a).data("status"),$.ajax({url:e,method:"POST",data:{eid:b,status:c},success:function(a){return g(a)},error:function(){return alert("An unknown error occurred, please try again")}})},$(this).each(f),this},$(function(){var a,b;return $("#eventlist").eventlist(),$(".participant-avatar").tooltip({container:"body"}),a=document.location.hash,b="tab_",a&&$(".nav-tabs a[href="+a.replace(b,"")+"]").tab("show"),$(".nav-tabs a").on("shown",function(a){return window.location.hash=a.target.hash.replace("#","#"+b)})})}.call(this),function(){$.fn.sessionvoter=function(a){var b;return null==a&&(a={}),b=function(){var a,b;return b=$(this).data("url"),a=this,$(this).find("a.vote").click(function(){return $.ajax({url:b,type:"POST",success:function(b,c){return $(a).find(".votes").text(b.votes),b.active?$(a).find("a.vote").removeClass("inactive").addClass("active"):$(a).find("a.vote").removeClass("active").addClass("inactive")}}),!1})},$(this).each(b),this},$(function(){return $(".votecontainer").sessionvoter(),$("#new-proposal-button").click(function(){return $(this).hide(),$("#proposal-form-container").show(),!1}),$("#proposal-cancel").click(function(){return $("#new-proposal-button").show(),$("#proposal-form-container").hide(),!1}),$(".session-edit-button").click(function(){return $(this).closest(".show-box").hide(),$(this).closest(".show-box").parent().find(".edit-box").show()}),$(".session-cancel-button").click(function(){return $(this).closest(".edit-box").hide(),$(this).closest(".edit-box").parent().find(".show-box").show()}),$(".session-delete-button").click(function(){var a,b,c;return a=$(this).data("confirm"),b=this,confirm(a)&&($(b).closest("article").css("background-color","red").slideUp(),c=$(this).data("url"),$.ajax({url:c,data:{method:"delete"},type:"POST",success:function(a,c){if("success"===a.status)return $(b).closest("article").css("background-color","red").slideUp()}})),!1}),$(".comment .deletebutton").click(function(){var a,b,c,d;return b=$(this).data("confirm"),d=$(this).data("url"),a=$(this).data("cid"),c=$(this).closest(".comment"),!!confirm(b)&&($.ajax({url:d,type:"POST",data:{method:"delete",cid:a},success:function(a){if("success"===a.status)return c.css("background","red"),c.slideUp()}}),!1)})})}.call(this),function(){$.fn.uploader=function(a){var b,c,d;return null==a&&(a={}),b=!1,d=null,c=function(a){var c,e,f,g,h,i,j,k;return k=this,h=$(this).data("preview-url"),i=$(this).data("upload-url"),e=$(this).data("delete-url"),f=$(this).data("id"),g=$("#"+f).val(),c="True"===$(this).data("autosubmit"),j=new qq.FileUploaderBasic({button:$(k).find(".uploadbutton")[0],action:i,multiple:!1,sizeLimit:10485760,allowedExtensions:["jpg","jpeg","png","gif"],onProgress:function(a,b,c,d){var e;return e=parseInt(Math.floor(c/d*100))+"%",$(k).find(".progress-bar").css("width",e)},onSubmit:function(a,b){return $(k).find(".progress-bar").css("width","0%"),$(k).find(".progress").show(),$(k).find(".preview-area").hide(),$(k).find(".missing-area").hide(),$(k).find(".uploader-buttons").hide()},onComplete:function(a,e,g){return"error"===g.status?(b=!1,d=null,$(k).find(".upload-area").show(),$(k).find(".progress").hide(),$(k).find(".uploader-buttons").show(),!1):"success"===g.status?(b=!0,$("#"+f).val(g.asset_id),g.url&&!c&&($(k).find(".preview-area img").attr("src",g.url),$(k).find(".progress").hide(),$(k).find(".preview-area").show()),g.redirect?void(window.location=g.redirect):g.parent_redirect?(window.parent.window.location=g.parent_redirect,void window.close()):c?void $(k).closest("form").submit():($(k).find(".revertbutton").show(),$(k).find(".deletebutton").hide(),$(k).find(".upload-area").show(),$(k).find(".progress").hide(),$(k).find(".uploader-buttons").show())):void 0}}),$(this).find(".deletebutton").click(function(){return $(k).find(".preview-area img").attr("src",""),$(k).find(".preview-area").hide(),g||$(k).find(".missing-area").show(),$(k).find(".deletebutton").hide(),$(k).find(".revertbutton").show(),$("#"+f).val(""),!1}),$(this).find(".revertbutton").click(function(){return $(k).find(".revertbutton").hide(),$(k).find(".preview-area img").attr("src",h),$("#"+f).val(g),g?($(k).find(".preview-area").show(),$(k).find(".deletebutton").show()):($(k).find(".preview-area img").attr("src",""),$(k).find(".preview-area").hide(),$(k).find(".deletebutton").hide(),$(k).find(".missing-area").show()),!1})},$(this).each(c),this},$(function(){return $(".upload-widget").uploader()})}.call(this);
//# sourceMappingURL=public.min.map